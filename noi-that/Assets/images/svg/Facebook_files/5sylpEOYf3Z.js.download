if (self.CavalryLogger) { CavalryLogger.start_js(["fB\/0a"]); }

__d("SearchResultPageNavigationPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:SearchResultPageNavigationPerfLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:SearchResultPageNavigationPerfLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:SearchResultPageNavigationPerfLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setBemDisplayTime=function(a){this.$1.bem_display_time=a;return this};c.setBrowseLayoutPageletDisplayTime=function(a){this.$1.browse_layout_pagelet_display_time=a;return this};c.setCaller=function(a){this.$1.caller=a;return this};c.setFilterType=function(a){this.$1.filter_type=a;return this};c.setIemDisplayTime=function(a){this.$1.iem_display_time=a;return this};c.setNavType=function(a){this.$1.nav_type=a;return this};c.setNavigationStartTime=function(a){this.$1.navigation_start_time=a;return this};c.setReferrer=function(a){this.$1.referrer=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setVCTime=function(a){this.$1.vc_time=a;return this};return a}();c={appid:!0,bem_display_time:!0,browse_layout_pagelet_display_time:!0,caller:!0,filter_type:!0,iem_display_time:!0,nav_type:!0,navigation_start_time:!0,referrer:!0,session_id:!0,vc_time:!0};e.exports=a}),null);
__d("FeedbackAddStreamingReactionSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},d={alias:null,args:[{kind:"Literal",name:"size__height",value:48},{kind:"Literal",name:"size__width",value:48}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(size__height:48,size__width:48)"},e={alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},f={alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"reaction_info",plural:!1,selections:[e],storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},h={alias:null,args:null,concreteType:"SpatialReactionRegion",kind:"LinkedField",name:"regional_spatial_reaction_counts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"region_id",storageKey:null},{alias:null,args:null,concreteType:"RegionalSpatialReactionCount",kind:"LinkedField",name:"region_reaction_counts",plural:!0,selections:[e,g],storageKey:null}],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};e={alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"reaction_info",plural:!1,selections:[e,i],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"FeedbackAddStreamingReactionSubscription",selections:[{alias:null,args:b,concreteType:"FeedbackAddStreamingReactionResponsePayload",kind:"LinkedField",name:"feedback_add_streaming_reaction_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactor",plural:!1,selections:[c,d],storageKey:null},f,{alias:null,args:null,concreteType:"StreamingReaction",kind:"LinkedField",name:"reaction_counts",plural:!0,selections:[g,f],storageKey:null},h],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FeedbackAddStreamingReactionSubscription",selections:[{alias:null,args:b,concreteType:"FeedbackAddStreamingReactionResponsePayload",kind:"LinkedField",name:"feedback_add_streaming_reaction_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"reactor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isActor"},c,d,i],storageKey:null},e,{alias:null,args:null,concreteType:"StreamingReaction",kind:"LinkedField",name:"reaction_counts",plural:!0,selections:[g,e],storageKey:null},h],storageKey:null}]},params:{id:"3631185426908028",metadata:{subscriptionName:"feedback_add_streaming_reaction_subscribe"},name:"FeedbackAddStreamingReactionSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("VideoComponentStreamingReactionTrayQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"userID"},b={defaultValue:null,kind:"LocalArgument",name:"videoID"},c=[{kind:"Variable",name:"id",variableName:"videoID"}],d={kind:"InlineFragment",selections:[{alias:"feedbackID",args:null,kind:"ScalarField",name:"feedback_id",storageKey:null},{alias:"broadcastID",args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null}],type:"Video",abstractKey:null},e=[{kind:"Variable",name:"id",variableName:"userID"}],f={alias:"profilePic",args:[{kind:"Literal",name:"height",value:50},{kind:"Literal",name:"width",value:50}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:50,width:50)"},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[a,b],kind:"Fragment",metadata:null,name:"VideoComponentStreamingReactionTrayQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[d],storageKey:null},{alias:null,args:e,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[f],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[b,a],kind:"Operation",name:"VideoComponentStreamingReactionTrayQuery",selections:[{alias:"video",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g,d],storageKey:null},{alias:null,args:e,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[f,g],storageKey:null}]},params:{id:"3186340558047774",metadata:{},name:"VideoComponentStreamingReactionTrayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VideoComponentLiveEndScreenQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"videoID"}],b=[{kind:"Variable",name:"id",variableName:"videoID"}],c=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],d={alias:"liveEndText",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"live_end_text",plural:!1,selections:c,storageKey:null};c={alias:"liveEndFollowPromptText",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"live_end_follow_prompt_text",plural:!1,selections:c,storageKey:null};var e={alias:"isLiveAudioFormat",args:null,kind:"ScalarField",name:"is_live_audio_format",storageKey:null},f={alias:"profilePicture",args:[{kind:"Literal",name:"height",value:70},{kind:"Literal",name:"width",value:70}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:"profile_picture(height:70,width:70)"},g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoComponentLiveEndScreenQuery",selections:[{alias:"video",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[d,c,e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[f],storageKey:null}],type:"Video",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoComponentLiveEndScreenQuery",selections:[{alias:"video",args:b,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,{kind:"InlineFragment",selections:[d,c,e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[g,f,h],storageKey:null}],type:"Video",abstractKey:null}],storageKey:null}]},params:{id:"1697410810295955",metadata:{},name:"VideoComponentLiveEndScreenQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("BrowseLogger",["AsyncRequest","Banzai","Run","ThisControllerNoLongerExists","mapObject"],(function(a,b,c,d,e,f){"use strict";var g,h="browse",i="browse_aggr",j=null,k={},l={},m=function(a){if(a==null)return"undefined";var b=a.tagName.toLowerCase(),c=a.id;a=a.className;c&&(b+="#"+c);a&&(b+="."+a);return b};function n(){j=null,k={},l={}}function o(a){return Object.assign(a,{clientSessionID:j})}function p(a){b("Banzai").post(h,o(a))}function q(a){a=b("ThisControllerNoLongerExists").__DEADURI__("uvo1torfe");new(b("AsyncRequest"))().setURI(a).send()}function r(){if(j===null)return;l.aggregated=k;b("Banzai").post(i,o(l));n()}function s(a){k[a]=(k[a]||0)+1}function t(a){Object.assign(l,a)}b("Run").onUnload(r);a={newSession:function(){r(),j=Math.random().toString(),l.start_time||(l.start_time=Math.round(Date.now()/1e3))},logResultClick:function(a,c,d,e,f,h,i){h===void 0&&(h=null);i={action:"result_click",click_type:a.ct||"result",section:a.section||"unknown",id:a.id||-1,path:a.path||"unknown",rank:a.rank||0,referrer:a.referrer||"unknown",result_type:a.result_type||"unknown",session_id:a.session_id||0,query_time:a.query_time||null,abtest_version:a.abtest_version||"NONE",abtest_params:a.abtest_params||null,typeahead_sid:a.typeahead_sid||"",source_module_role:a.source_module_role||"",result_title:a.result_title||"unknown",result_href:a.result_href||"unknown",result_semantic:a.result_semantic||"unknown",type:a.experience_type||"unknown",click_action:d||null,sub_id:a.sub_id||null,owner_id:a.owner_id||null,browse_location:a.browse_location||"unknown",query_data:a.query_data||"unknown",is_headline:a.is_headline||!1,qid:c.qid||0,mf_story_key:c.mf_story_key||0,module:a.module||"NONE",view:a.view||null,clicked_href:f||null,bt_key:h};c.tn&&(i.tn=c.tn);a.cst&&(i.click_subtype=a.cst);s("result_click_"+i.click_type);t({path:i.path,referrer:i.referrer,result_type:i.result_type,session_id:i.session_id,abtest_version:i.abtest_version,abtest_params:i.abtest_params,typeahead_sid:i.typeahead_sid});h?q(i):p(i);!a.id&&a.browse_location!=="browse_location:mf_trending"&&!h&&p({action:"logging_error",click_action:d,click_type:i.click_type,attributes:JSON.stringify(a),element:(g||(g=b("mapObject")))({srcElement:e.srcElement,target:e.target,toElement:e.toElement},m),event:{button:e.button,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,layerX:e.layerX,layerY:e.layerY,offsetX:e.offsetX,offsetY:e.offsetY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY,shiftKey:e.shiftKey,type:e.type,x:e.x,y:e.y}})},logControlsClick:function(a,b){var c={action:"controls_click",click_type:b,path:a.path||"unknown",referrer:a.referrer||"unknown",session_id:a.session_id||0,query_time:a.query_time,filter_name:a.name||"unknown",typeahead_sid:a.typeahead_sid||"",result_type:a.result_type||"unknown",type:a.experience_type||"unknown"};a.cst&&(c.click_subtype=a.cst);s("controls_click_"+b);t({path:c.path,referrer:c.referrer,session_id:c.session_id,typeahead_sid:c.typeahead_sid});p(c)},logResultHover:function(a,b,c){c===void 0&&(c=null);b={action:"result_hover",id:a.id||0,path:a.path||"unknown",rank:a.rank||null,result_type:a.result_type||"unknown",session_id:a.session_id||0,query_time:a.query_time||null,time_elapsed:b||null,typeahead_sid:a.typeahead_sid||0,type:a.experience_type||"unknown",module:a.module||"NONE",view:a.view||null,bt_key:c};s("result_hover");t({path:b.path,session_id:b.session_id,typeahead_sid:b.typeahead_sid});c?q(b):p(b)},logScroll:function(a,b,c,d){a={action:"scroll",encoded_query:a,fragments:b,position:c,session_id:d||0};p(a)},logNUXStep:function(a){a={action:"nux_step",step:a};p(a)},logDisambiguationImpression:function(a,b,c,d,e){d={action:"disambiguation_imp",ids:d,name:a,path:c,type:b,typeahead_sid:e};p(d)},logDisambiguationClick:function(a,b,c,d,e,f){e={action:"disambiguation_clk",id:e,index:d,name:a,path:c,type:b,typeahead_sid:f};p(e)},logDYMLinkClick:function(a,b,c,d){b={action:"dym_click",path:a.path||"unknown",referrer:a.referrer||"unknown",session_id:a.session_id||0,query_time:a.query_time,abtest_version:a.abtest_version||"NONE",abtest_params:a.abtest_params,typeahead_sid:a.typeahead_sid||"",type:a.experience_type||"unknown",click_action:c,sub_id:a.sub_id,owner_id:a.owner_id,browse_location:a.browse_location||"unknown",query_data:a.query_data||"unknown",module:a.module||"NONE",view:a.view,dym_confidence:a.dym_confidence||"NONE",dym_query:a.dym_query||"",dym_correction:a.dym_correction||"",dym_clicked:a.dym_clicked||""};p(b)}};e.exports=a}),null);
__d("SearchCometResultsForcedOptInEventLogger",["BanzaiODS","SearchCometTrialExperiment"],(function(a,b,c,d,e,f){"use strict";a={log:function(a,c){var d=b("SearchCometTrialExperiment").group;if(d!=="test_beta5"&&d!=="control_blue")return;b("BanzaiODS").bumpEntityKey(354,["search","comet","client_event","comet_forced_opt_in"].join("."),[d,c?"in_comet":"not_in_comet",a].join("."),1)}};e.exports=a}),null);
__d("BrowseClickLogger",["BanzaiODS","BrowseClientEventLogger","BrowseLogger","DOMQuery","Event","Parent","SearchCometResultsForcedOptInEventLogger","collectDataAttributes"],(function(a,b,c,d,e,f){"use strict";function g(a,c){var d,e=a.target,f=(d=b("Parent")).byAttribute(e,"role"),g=d.byTag(e,"a")!=null,h=d.byTag(e,"button")!=null;d=d.byAttribute(e,"data-dense-post-click-area")!=null;g=g||h||d||f!=null&&f.getAttribute("role")==="button";if(!g)return;b("SearchCometResultsForcedOptInEventLogger").log("serp_click",!1);h=b("collectDataAttributes")(e,["bt","ft","gt"],["data-bt-key"]);h.bt&&h.bt.path&&(h.bt.path+=document.location.search);h.gt.tn=h.ft.tn;h.gt.click_type=h.bt.ct||"result";d=b("Parent").byAttribute(e,"href");f=d!=null?d.href:null;h.gt.clicked_href=f;b("BrowseClientEventLogger").logClick(h);if(h.bt==null||h.ft==null)return;b("DOMQuery").scry(e,"^.recourse-link").length>0?c==="left_click"&&b("BrowseLogger").logDYMLinkClick(h.bt,h.ft,c,a):b("BrowseLogger").logResultClick(h.bt,h.ft,c,a,f,h.normal["data-bt-key"],h.gt.xt)}var h=!1;a={init:function(a){h?b("BanzaiODS").bumpEntityKey(2966,"search.www.browse_click_logger","duplicate_initialization"):h=!0,b("Event").listen(a,"mousedown",function(a){var b=a.button===2||a.which===3?"right_click":"left_click";a.shiftKey&&(b+="_shift");a.altKey&&(b+="_alt");(a.metaKey||a.ctrlKey)&&(b+="_ctrl");g(a,b)}.bind(this))},logClick:g};e.exports=a}),null);
__d("FeedbackAddStreamingReactionSubscription",["BaseGraphQLSubscription","relay-runtime","FeedbackAddStreamingReactionSubscription.graphql"],(function(a,b,c,d,e,f){var g;b("relay-runtime").graphql;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getTopic=function(a){return"gqls/"+this.getSubscriptionName()+"/feedback_id_"+a};d.getQuery=function(){return g!==void 0?g:g=b("FeedbackAddStreamingReactionSubscription.graphql")};d.getQueryParameters=function(a){return{input:{feedback_id:a}}};return c}(b("BaseGraphQLSubscription"));e.exports=a}),null);
__d("FacebarTypeaheadRefreshNullstate",["emptyFunction"],(function(a,b,c,d,e,f){"use strict";var g=!1,h;a=function(){function a(a){this.$1=a.getCore(),h=this.$1.data}var c=a.prototype;c.enable=function(){this.$1.subscribe("focus",function(){g&&(h.refreshNullstate(),g=!1)})};c.disable=function(){};a.setIsNullstateStale=function(a){g=a};a.forceNullstateRefresh=function(a,c){a===void 0&&(a=b("emptyFunction")),c===void 0&&(c=b("emptyFunction")),h.refreshNullstate(a,c)};return a}();e.exports=a}),null);
__d("SearchResultPageNavigationPerfMetrics",["csx","cx","Arbiter","CSS","DOM","SearchResultPageNavigationPerfTypedLogger","SubscriptionsHandler","URI","ge","performanceAbsoluteNow","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=/\/search\/.+/g,l=["pagelet_loader_browse:independent:modules:pagelet","pagelet_loader_initial_browse_result"],m=null,n=null,o=null;a=function(){function a(a){this.$1=null;this.$2=null;this.$3=!1;this.$4=0;m=this;o=new(b("SearchResultPageNavigationPerfTypedLogger"))();this.$4=this.$5();a=new(i||(i=b("URI")))(window.location).getPath();a.match(k)&&this.$6();this.$7(a)}var c=a.prototype;c.enable=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Arbiter").subscribe("pre_page_transition",function(c,d){a.$3=n!=null,a.$4=(j||(j=b("performanceAbsoluteNow")))(),n=null,o=new(b("SearchResultPageNavigationPerfTypedLogger"))(),a.$7(d.to.getPath())}))};c.disable=function(){this.$8(),this.$1!=null&&(this.$1.release(),this.$1=null)};c.$6=function(){var c=function(){var c=l[d];b("Arbiter").subscribeOnce(c+"_displayed",function(b,d){a.setElementDisplayEndTime(c)},"new")};for(var d=0;d<l.length;d++)c()};c.$9=function(){var c=this;if(this.$2==null)return;this.$2.addSubscriptions(b("Arbiter").subscribe("BigPipe/init",function(b,c){b=function(){var b=l[d];c.arbiter.subscribe(b+"_displayed",function(c,d){a.setElementDisplayEndTime(b)},"new")};for(var d=0;d<l.length;d++)b()},"new"),b("Arbiter").subscribe("BrowseScrollingPageletDisplayed",function(){c.logIfVisuallyComplete()}))};c.$7=function(a){!a.match(k)?this.$8():this.$2==null&&(this.$2=new(b("SubscriptionsHandler"))(),this.$9())};c.$5=function(){var a=window.performance||window.msPerformance;return!a||!a.timing?0:a.timing.navigationStart};c.$8=function(){o=null,n=null,this.$3=!1,this.$4=0,this.$2!=null&&(this.$2.release(),this.$2=null)};c.logSessionNavigationStats=function(){if(n==null||o==null)return;n.nav_type==="quickling"&&(this.$3||(n.nav_type="initial_quickling"));var a=Math.floor(this.$4);o.setAppID(n.app_id).setReferrer(n.ref).setCaller(n.callsite).setFilterType(n.filter_type).setSessionID(n.session_id).setNavType(n.nav_type).setNavigationStartTime(a).log();n=null};c.isVisuallyComplete=function(){var a,c=b("DOM").scry(document.body,"._43zr")[0];if(c!=null&&!b("CSS").hasClass(c,"hidden_elem"))return!0;c=b("ge")("browse_result_area");if(c==null)return!0;a=Math.max((a=(a=document.documentElement)==null?void 0:a.clientHeight)!=null?a:0,window.innerHeight||0);if(a===0)return!0;var d=b("DOM").scry(c,"[data-serp-spinner]"),e=!1;for(var d=d,f=Array.isArray(d),g=0,d=f?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=d.length)break;h=d[g++]}else{g=d.next();if(g.done)break;h=g.value}h=h;h=h.getBoundingClientRect();var i=h.top,j=h.width;h=h.height;if(j!==0&&h!==0&&i<a){e=!0;break}}if(e)return!1;j=b("ge")("browse_end_of_results_footer");if(j!=null)return!0;h=c.getBoundingClientRect();i=h.top;g=h.height;f=i+g>a;return f};c.logIfVisuallyComplete=function(){if(this.isVisuallyComplete()&&o!=null){var a=Math.floor((j||(j=b("performanceAbsoluteNow")))());o.setVCTime(a);this.logSessionNavigationStats()}};a.setElementDisplayEndTime=function(a){if(m==null||o==null)return;var c=Math.floor((j||(j=b("performanceAbsoluteNow")))());switch(a){case"bootstrap_entity_module":o.setBemDisplayTime(c);break;case"pagelet_loader_browse:independent:modules:pagelet":o.setIemDisplayTime(c);break;case"pagelet_loader_initial_browse_result":o.setBrowseLayoutPageletDisplayTime(c);b("setImmediate")(function(){m&&m.logIfVisuallyComplete()});break;default:break}};a.setSessionStats=function(a){n=a};return a}();e.exports=a}),null);
__d("EntityPageLayoutDockingElement",["DockingElement","EntityPageDockingElementController"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.register=function(){b("EntityPageDockingElementController").register(this.__queryDOM.bind(this),this.__updateWithCache.bind(this))};return c}(b("DockingElement"));e.exports=a}),null);
__d("HotLiveVideoPayloadManager",["AjaxRequest","Arbiter","ThisControllerNoLongerExists"],(function(a,b,c,d,e,f){var g={_subscribedPayloads:{},subscribe:function(a,c,d){var e=!1;if(a in this._subscribedPayloads){var f=this._subscribedPayloads[a];++f.count;"lastPayload"in f&&c in f.lastPayload&&d(f.lastPayload[c])}else this._subscribedPayloads[a]={count:1,intervalHandle:window.setInterval(this._fetchPayload.bind(this,a),3e3)},e=!0;f=b("Arbiter").subscribe("HotLiveVideoPayloadManager/"+a+"/"+c,this._onCallback.bind(this,d));e&&this._fetchPayload(a);return{arbiterToken:f,videoId:a,cancel:function(){g.unsubscribe(this)}}},unsubscribe:function(a){b("Arbiter").unsubscribe(a.arbiterToken);var c=this._subscribedPayloads[a.videoId];--c.count;c.count==0&&("intervalHandle"in c&&window.clearInterval(c.intervalHandle),delete this._subscribedPayloads[a.videoId])},_fetchPayload:function(a){var c=b("ThisControllerNoLongerExists").__DEADURI__("ejgplt6tg");c=new(b("AjaxRequest"))("GET",c);c.streamMode=!1;c.onJSON=this._onPayload.bind(this,a);c.onError=this._onError.bind(this,a);c.send()},_onPayload:function(a,c){var d=this._subscribedPayloads[a];d.lastPayload=c.json;for(var e in c.json)b("Arbiter").inform("HotLiveVideoPayloadManager/"+a+"/"+e,c.json[e])},_onError:function(a,b){if(b.status==404&&a in this._subscribedPayloads){b=this._subscribedPayloads[a];"intervalHandle"in b&&(window.clearInterval(b.intervalHandle),delete b.intervalHandle)}},_onCallback:function(a,b,c){a(c)}};e.exports=g}),null);
__d("StreamingReaction",["cx","requireCond","CSS","DOM","EventEmitter","FeedbackReactionType","Random","React","cr:1557188","cr:1557189","ReactionIconFilepaths","StreamingReactionsTrayEvents","Style","UFIReactionsAnimatedKeyframesIcon.react","cr:1634252","getVendorPrefixedName","queryThenMutateDOM","unrecoverableViolation"],(function(a,b,c,d,e,f,g){var h=b("React"),i=b("getVendorPrefixedName")("transform"),j=-30,k=90,l=50;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);c.getReaction=function(a,b,d,e){e===void 0&&(e="");var f=a?c.friendElementQueue:c.anonElementQueue;if(f.length>0){f=f.shift();f.removeSpecificData();f.addSpecificData(b,e);return f}else return new c(a,b,d,e)};c.clearQueue=function(){c.anonElementQueue.length=0,c.friendElementQueue.length=0};function c(c,d,e,f){var g;f===void 0&&(f="");g=a.call(this)||this;g.$StreamingReaction1=e;g.setState("CONSTRUCTED");g.isFriend=c;g.type=d;g.profilePicUri=f;g.start=-1;g.randVerticalStartPositionAnon=g.$StreamingReaction6();g.randHorizontalStartPositionAnon=g.$StreamingReaction7();g.randShootUpHorizontalPosition=g.$StreamingReaction8();g.randShootUpMaxVerticalPosition=g.$StreamingReaction9();g.randAmp=g.$StreamingReaction10();g.randTimeOffsetMs=g.$StreamingReaction11();g.period=g.$StreamingReaction12(g.isFriend,g.randShootUpHorizontalPosition);g.anonWindDurationMs=g.$StreamingReaction1.anonWindDurationMs+g.randTimeOffsetMs;g.maxAnonWindDurationMs=g.$StreamingReaction1.anonWindDurationMs+g.$StreamingReaction1.durationsMs.ANON_WIND_MAX_OFFSET;g.shootUpDurationMs=g.$StreamingReaction1.durationsMs.SHOOT_UP;g.explosionDurationMs=g.$StreamingReaction1.durationsMs.EXPLOSION;g.explosionPauseDurationMs=g.$StreamingReaction1.durationsMs.EXPLOSION_PAUSE;g.morphShrinkDurationMs=g.$StreamingReaction1.durationsMs.MORPH/4;g.morphGrowDurationMs=g.$StreamingReaction1.durationsMs.MORPH/6;g.morphPauseDurationMs=g.$StreamingReaction1.durationsMs.MORPH_PAUSE;g.friendWindKeyDurationMs=g.$StreamingReaction1.friendWindDurationMs;g.shootUpVerticalPositionOffset=65;b("queryThenMutateDOM")(function(){},g.createElem.bind(babelHelpers.assertThisInitialized(g)));return g}var d=c.prototype;d.createElem=function(){var a;this.yAxisDiv=(a=b("DOM")).create("div");this.xAxisDiv=a.create("div");this.reactionElem=a.create("div");a.appendContent(this.xAxisDiv,this.reactionElem);a.appendContent(this.yAxisDiv,this.xAxisDiv);this.root=this.yAxisDiv;b("CSS").addClass(this.yAxisDiv,"_g19");b("CSS").addClass(this.xAxisDiv,"_g19");this.createReactionImage();var c,d;if(this.isFriend){this.$StreamingReaction13();this.setFireworksColors();this.root=b("DOM").create("div");b("DOM").appendContent(this.root,this.fireworks);b("DOM").appendContent(this.root,this.yAxisDiv);a=this.randShootUpHorizontalPosition;c=this.$StreamingReaction1.minY+j;d=this.$StreamingReaction1.minMorphScale;var e=this.$StreamingReaction1.shootUpScale;this.createFriendImage();b("Style").set(this.friendImg,i,"scale("+e+")")}else a=this.randHorizontalStartPositionAnon,c=this.$StreamingReaction1.minY,d=this.$StreamingReaction1.globalScale;b("Style").set(this.reactionElem,i,"scale("+d+")");b("Style").set(this.yAxisDiv,"right",a+"px");b("Style").set(this.yAxisDiv,"bottom",c+"px");this.setState("RENDERED")};d.setAnimationX=function(a){this.$StreamingReaction3=a};d.setAnimationY=function(a){this.$StreamingReaction4=a};d.setAnimationScale=function(a){this.$StreamingReaction5=a};d.getAnimationX=function(){return this.$StreamingReaction3};d.getAnimationY=function(){return this.$StreamingReaction4};d.getAnimationScale=function(){return this.$StreamingReaction5};d.createFriendImage=function(){this.friendImg=b("DOM").create("img"),b("DOM").setAttributes(this.friendImg,{src:this.profilePicUri}),b("DOM").appendContent(this.xAxisDiv,this.friendImg),b("Style").set(this.friendImg,i,"scale("+this.$StreamingReaction1.shootUpScale+")"),b("Style").set(this.reactionElem,"opacity","0"),b("CSS").addClass(this.friendImg,"_2-ai")};d.setFriendImage=function(a){this.profilePicUri=a,b("DOM").setAttributes(this.friendImg,{src:this.profilePicUri})};d.createReactionImage=function(){b("CSS").addClass(this.reactionElem,"_g19");if(this.isFriend){var a=h.jsx(b("UFIReactionsAnimatedKeyframesIcon.react"),{animate:!0,className:"_8382",maxSize:48,reactionID:b("FeedbackReactionType")[this.type],selectedIndex:0});if(b("cr:1557188")!==null)b("cr:1557188").render(a,this.reactionElem);else if(b("cr:1557189")!==null){var c=b("cr:1557189").createBlockingRoot(this.reactionElem);c.render(a)}else throw b("unrecoverableViolation")("could not mount reaction","work_comet_core")}else{this.reactionImage=b("DOM").create("img");c=this.getReactionImageSrc(this.type);if(b("cr:1634252")!=null&&(c==null||c==="")){c=(a=b("cr:1634252")(b("FeedbackReactionType")[this.type]))!=null?a:c}b("DOM").setAttributes(this.reactionImage,{src:c});b("DOM").appendContent(this.reactionElem,this.reactionImage)}};d.setState=function(a){var d=this.getState();this.$StreamingReaction2=a;if(d!=="FINISHED"&&a==="FINISHED"){d=this.isFriend?c.friendElementQueue:c.anonElementQueue;d.push(this);this.$StreamingReaction2="RENDERED"}this.emit(b("StreamingReactionsTrayEvents").ReactionStateChange,this.getState())};d.getState=function(){return this.$StreamingReaction2};d.addSpecificData=function(a,b){this.type=a,this.profilePicUri=b,this.createReactionImage(),this.isFriend&&(this.setFireworksColors(),this.setFriendImage(b))};d.removeSpecificData=function(){this.removeReactionImage(),this.isFriend&&this.removeFireworksStyle()};d.removeReactionImage=function(){this.reactionImage&&b("DOM").remove(this.reactionImage)};d.removeFireworksStyle=function(){for(var a=0;a<this.fireworks.length;a++)b("CSS").removeClass(this.fireworks[a],this.getReactionFireworksClass(this.type,a))};d.$StreamingReaction13=function(){var a=[];for(var c=0,d;c<10;c++){d=b("DOM").create("div");b("CSS").addClass(d,"_3na5");b("Style").set(d,"right",this.randShootUpHorizontalPosition+22+"px");b("Style").set(d,"bottom",this.randShootUpMaxVerticalPosition-this.shootUpVerticalPositionOffset+"px");switch(c){case 1:b("CSS").addClass(d,"_3nab");break;case 2:b("CSS").addClass(d,"_3nad");break;case 3:b("CSS").addClass(d,"_3nae");break;case 4:b("CSS").addClass(d,"_3naf");break;case 5:b("CSS").addClass(d,"_3nag");break;case 6:b("CSS").addClass(d,"_3nah");break;case 7:b("CSS").addClass(d,"_3nak");break;case 8:b("CSS").addClass(d,"_3nam");break;case 9:b("CSS").addClass(d,"_3nan");break;default:break}a.push(d)}this.fireworks=a};d.setFireworksColors=function(){for(var a=0;a<this.fireworks.length;a++)b("CSS").addClass(this.fireworks[a],this.getReactionFireworksClass(this.type,a))};d.getReactionImageSrc=function(a){switch(a){case"LIKE":return b("ReactionIconFilepaths").paths.size48.like;case"HAHA":return b("ReactionIconFilepaths").paths.size48.haha;case"WOW":return b("ReactionIconFilepaths").paths.size48.wow;case"LOVE":return b("ReactionIconFilepaths").paths.size48.love;case"ANGER":return b("ReactionIconFilepaths").paths.size48.anger;case"SORRY":return b("ReactionIconFilepaths").paths.size48.sorry;case"DOROTHY":return b("ReactionIconFilepaths").paths.size48.dorothy;case"SUPPORT":return b("ReactionIconFilepaths").paths.size48.support;default:throw new Error("Not a valid reaction type: "+a)}};d.getReactionFireworksClass=function(a,b){a=b%2===0;if(a)if(this.type==="LIKE")return"_3na6";else if(this.type==="LOVE")return"_3na8";else if(this.type==="DOROTHY")return"_1l5u";else return"_3na9";else return"_3naa"};d.$StreamingReaction11=function(){var a=this.$StreamingReaction1.durationsMs.ANON_WIND_MAX_OFFSET;return-1*a+b("Random").random()*a*2};d.$StreamingReaction10=function(){var a=b("Random").random()>.5;return(a?1:-1)*(b("Random").random()*(1-.6)+.6)};d.$StreamingReaction12=function(a,b){a=a?this.$StreamingReaction1.maxX-b:this.$StreamingReaction1.maxX;return a};d.$StreamingReaction6=function(){var a=(this.$StreamingReaction1.maxY-this.$StreamingReaction1.minY)/2;return~~(b("Random").random()*a)};d.$StreamingReaction7=function(){var a=(this.$StreamingReaction1.maxX-this.$StreamingReaction1.minX)/2;return~~(b("Random").random()*a)};d.$StreamingReaction8=function(){return b("Random").random()*(this.$StreamingReaction1.maxX/3)};d.$StreamingReaction9=function(){var a=this.$StreamingReaction1.maxY-this.$StreamingReaction1.minY;a=b("Random").random()*k+.25*a+l;return a};return c}(b("EventEmitter"));a.anonElementQueue=[];a.friendElementQueue=[];e.exports=a}),null);
__d("StreamingReactionsTrayAnimation",["DOM","StreamingReaction","StreamingReactionsTrayEvents"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,b){this.root=a,this.config=b,this.animating=!1,this.reactions=new Set()}var c=a.prototype;c.addReaction=function(a,c,d){var e=this;d===void 0&&(d="");if(this.animating){var f=b("StreamingReaction").getReaction(a,c,this.config,d);this.reactions.add(f);f.getState()==="RENDERED"?this.buildAnimation(f):f.once(b("StreamingReactionsTrayEvents").ReactionStateChange,function(a){a==="RENDERED"&&e.buildAnimation(f)})}};c.start=function(){this.animating=!0};c.stop=function(){this.animating=!1;b("StreamingReaction").clearQueue();for(var a=this.reactions,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e.getState()!=="CONSTRUCTED"&&b("DOM").remove(e.root)}this.reactions.clear()};c.clearCurrent=function(){b("StreamingReaction").clearQueue();for(var a=this.reactions,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e.getState()!=="CONSTRUCTED"&&b("DOM").remove(e.root)}this.reactions.clear()};c.setOnFinishHandler=function(a){this.onFinishHandler=a};c.buildAnimation=function(a){throw new Error("Function not implemented")};c.createOnFinishForReaction=function(a){var b=this;return function(c){b.onFinish(a,c)}};c.onFinish=function(a,b){this.onFinishHandler&&this.onFinishHandler(),a.getState()!=="FINISHED"&&a.setState("FINISHED")};return a}();e.exports=a}),null);
__d("StreamingReactionsTrayAnonymousAnimation",["CSSAnimationBuilder","DOM","StreamingReactionsTrayAnimation"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c){return a.call(this,b,c)||this}var d=c.prototype;d.addAnonReaction=function(b){a.prototype.addReaction.call(this,!1,b)};d.buildAnimation=function(a){if(!a.getAnimationY()){var c=a.anonWindDurationMs/1e3,d=a.maxAnonWindDurationMs/1e3,e=this.$StreamingReactionsTrayAnonymousAnimation1(a),f=this.$StreamingReactionsTrayAnonymousAnimation2(a);e=Math.round(e*100)/100;f=Math.round(f*100)/100;var g=b("CSSAnimationBuilder").keyframeAnimation(a.yAxisDiv),h=b("CSSAnimationBuilder").keyframeAnimation(a.xAxisDiv),i=b("CSSAnimationBuilder").keyframeAnimation(a.reactionElem);this.$StreamingReactionsTrayAnonymousAnimation3(h,e,c,d);this.$StreamingReactionsTrayAnonymousAnimation4(g,f,c,d,a);this.$StreamingReactionsTrayAnonymousAnimation5(i,c,d);a.setAnimationX(h);a.setAnimationY(g);a.setAnimationScale(i);this.animating&&b("DOM").appendContent(this.root,a.root)}this.animating&&(a.setState("ANIMATING"),a.getAnimationX().start(),a.getAnimationY().start(),a.getAnimationScale().start())};d.$StreamingReactionsTrayAnonymousAnimation1=function(a){return a.randAmp*this.config.horizontalAnimationRange};d.$StreamingReactionsTrayAnonymousAnimation2=function(a){return-1*(this.config.maxY-this.config.minY)};d.$StreamingReactionsTrayAnonymousAnimation4=function(a,b,c,d,e){a.defineKeyframes({"0%":{transform:"translateY("+0+"px)"},"100%":{transform:"translateY("+b+"px)"}}),a.setDuration(c),a.setIterationCount(1).setMemoize(!1).setFinishedCallback(this.createOnFinishForReaction(e))};d.$StreamingReactionsTrayAnonymousAnimation3=function(a,b,c,d){a.defineKeyframes({"0%":{transform:"translateX("+0+"px)","animation-timing-function":"ease-in-out"},"50%":{transform:"translateX("+b+"px)"},"100%":{transform:"translateX("+0+"px)"}}),a.setTimingFunction("cubic-bezier(0.215, 0.61, 0.355, 1)").setDuration(d),a.setMemoize(!1).setIterationCount(1)};d.$StreamingReactionsTrayAnonymousAnimation5=function(a,b,c){c=this.config.globalScale;a.defineKeyframes({"0%":{transform:"scale("+c+")"},"40%":{transform:"scale("+c+")",opacity:"1"},"100%":{transform:"scale("+.1+")",opacity:"0"}});a.setTimingFunction("cubic-bezier(0.215, 0.61, 0.355, 1)").setDuration(b);a.setMemoize(!1).setIterationCount(1)};return c}(b("StreamingReactionsTrayAnimation"));e.exports=a}),null);
__d("StreamingReactionsTrayConfig",["EventEmitter","StreamingReactionsAnimationConfig","StreamingReactionsTrayEvents"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;f=a.call(this)||this;f.$StreamingReactionsTrayConfig1=b("StreamingReactionsAnimationConfig");f.durationsMs=f.$StreamingReactionsTrayConfig1.DURATIONS_MS;f.updateDimensions(c,d);f.$StreamingReactionsTrayConfig2(e);f.globalScale=f.$StreamingReactionsTrayConfig1.SCALES.GLOBAL*f.$StreamingReactionsTrayConfig1.SCALES.SCALE_MULTIPLIER;f.shootUpScale=f.globalScale*f.$StreamingReactionsTrayConfig1.SCALES.SHOOT_UP;f.maxExplosionScale=f.globalScale*f.$StreamingReactionsTrayConfig1.SCALES.MAX_EXPLOSION;f.minMorphScale=f.globalScale*f.$StreamingReactionsTrayConfig1.SCALES.MIN_MORPH;f.scaleMultiplier=f.viewUpdateInterval=f.$StreamingReactionsTrayConfig1.THROTTLE.VIEW_UPDATE_INTERVAL;f.reactionStartAnimationRate=f.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_START_ANIMATION_RATE;f.reactionBufferSize=f.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_BUFFER_SIZE;f.maxAnonReactionsCount=f.$StreamingReactionsTrayConfig1.THROTTLE.MAX_REACTIONS_ON_SCREEN;f.reactionSelfFireworkAnimationThreshold=f.$StreamingReactionsTrayConfig1.THROTTLE.REACTION_CLICK_SELF_FIREWORK_ANIMATION_THRESHOLD;f.horizontalAnimationRange=f.$StreamingReactionsTrayConfig1.VERTICAL_REACTION_SCALES.HORIZONTAL_ANIMATION_RANGE;c=f.$StreamingReactionsTrayConfig1.CURVES;f.anonHorizontalCurve="cubic-bezier("+c.ANON_HORIZONTAL.join(", ")+")";f.friendWindHorizontalCurve="cubic-bezier("+c.FRIEND_WIND_HORIZONTAL.join(", ")+")";f.shootUpVerticalCurve="cubic-bezier("+c.SHOOT_UP_VERTICAL.join(", ")+")";f.morphScaleCurve="cubic-bezier("+c.MORPH_SCALE.join(", ")+")";f.explosionScaleCurve="cubic-bezier("+c.EXPLOSION_SCALE.join(", ")+")";f.friendWindScaleCurve="cubic-bezier("+c.FRIEND_WIND_SCALE.join(", ")+")";f.friendWindVacuumZoneScaleCurve="cubic-bezier("+c.FRIEND_WIND_VACUUM_ZONE_SCALE.join(", ")+")";return f}var d=c.prototype;d.updateSurface=function(a,c,d){this.updateDimensions(a,c),this.$StreamingReactionsTrayConfig2(d),this.emit(b("StreamingReactionsTrayEvents").UpdateSurface)};d.$StreamingReactionsTrayConfig2=function(a){if(a==="tahoe"){this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_TAHOE;this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_TAHOE;return}a==="channel"?(this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_CHANNEL,this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_CHANNEL):a==="snowlift"?(this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_SNOWLIFT,this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_SNOWLIFT):(this.anonWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.ANON_WIND_INLINE,this.friendWindDurationMs=this.$StreamingReactionsTrayConfig1.DURATIONS_MS.FRIEND_WIND_INLINE)};d.updateDimensions=function(a,b){a=a;b=b*this.$StreamingReactionsTrayConfig1.VERTICAL_REACTION_SCALES.HEIGHT_MULTIPLIER;this.maxX=a/2;this.minX=0;this.maxY=b+this.$StreamingReactionsTrayConfig1.VERTICAL_REACTIONS_OFFSETS_PX.POSITIVE_Y;this.minY=0-this.$StreamingReactionsTrayConfig1.VERTICAL_REACTIONS_OFFSETS_PX.NEGATIVE_Y;this.reactionsOffScreenX=a+21};return c}(b("EventEmitter"));e.exports=a}),null);
__d("StreamingReactionsTrayDiffuser",["BanzaiODS","Random","randomShuffle","setTimeout"],(function(a,b,c,d,e,f){"use strict";b("BanzaiODS").setEntitySample("feedback",1e-4);a=function(){function a(a,b,c,d){this.$1=a,this.$4=b,this.$12=c,this.$11=d,this.$10=this.$11.viewUpdateInterval,this.$7={},this.$6={},this.$2=[],this.$9=0,this.$5=this.$11.maxAnonReactionsCount,this.$3=this.$11.reactionBufferSize,this.$1.setOnFinishHandler(this.$13.bind(this))}var c=a.prototype;c.clearCurrentReactions=function(){this.$1.clearCurrent(),this.$4.clearCurrent(),this.$9=0};c.startAnimation=function(){clearInterval(this.$8),this.$1.start(),this.$4.start(),this.$8=setInterval(this.$14.bind(this),this.$10)};c.stopAnimation=function(){this.$1.stop(),this.$4.stop(),this.$9=0,clearInterval(this.$8)};c.pauseAnimation=function(){clearInterval(this.$8)};c.clearBuffer=function(){this.$2=[]};c.addOwnReaction=function(a,b,c){c&&(this.$6[a]+=1),this.$15(a,b)};c.processPayload=function(a){a=a.feedback_add_streaming_reaction_subscribe;var b=a.reactor,c=a.reaction_info.reaction_type,d=b!=null&&b.is_viewer_friend;d&&this.$15(c,b.profile_picture.uri);b={};var e=0;for(var a=a.reaction_counts,f=Array.isArray(a),g=0,a=f?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=a.length)break;h=a[g++]}else{g=a.next();if(g.done)break;h=g.value}h=h;var i=h.reaction_info.reaction_type;h=h.count;d&&c&&h--;if(this.$7[i]){var j=this.$7[i];this.$6[i]&&(j+=this.$6[i]);j=j?Math.max(h-j,0):0;b[i]=j;e+=j}this.$7[i]=h}this.$16(b,e)};c.processVodPayload=function(a){var b={},c=0;for(var d=a.reactions,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;var h=g.reaction_type,i=g.count;b[h]=i;c+=i;for(var i=g.important_reactors,g=Array.isArray(i),j=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(g){if(j>=i.length)break;k=i[j++]}else{j=i.next();if(j.done)break;k=j.value}k=k;this.$17(h,k.profile_picture_uri,a.length*1e3)}}this.clearBuffer();this.$16(b,c)};c.$16=function(a,c){var d=[],e=this.$3-this.$2.length;if(e>0){var f=c>e,g=Object.entries(a);a=function(){var a=g[h],b=a[0];a=a[1];a=f?Math.floor(a/c*e):a;d=d.concat(Array.apply(void 0,Array(a)).map(function(){return b}))};for(var h=0;h<g.length;h++)a();b("randomShuffle")(d);this.$2=this.$2.concat(d)}};c.$17=function(a,c,d){var e=this;d=Math.floor(b("Random").random()*d);b("setTimeout")(function(){return e.addOwnReaction(a,c,!1)},d)};c.$15=function(a,c){this.$4.addFriendReaction(a,c),this.$12?b("BanzaiODS").bumpEntityKey(2966,"feedback","facecast_live_friend_reaction_rendered"):b("BanzaiODS").bumpEntityKey(2966,"feedback","facecast_vod_friend_reaction_rendered")};c.$14=function(){this.$2.length>0&&this.$9<this.$5&&(this.$1.addAnonReaction(this.$2.shift()),this.$9++,this.$12?b("BanzaiODS").bumpEntityKey(2966,"feedback","facecast_live_reaction_rendered"):b("BanzaiODS").bumpEntityKey(2966,"feedback","facecast_vod_reaction_rendered"))};c.$13=function(){this.$9--};return a}();e.exports=a}),null);
__d("StreamingReactionsTrayFriendAnimation",["Arbiter","CSSAnimationBuilder","DOM","StreamingReactionsTrayAnimation","StreamingReactionsTrayEvents","queryThenMutateDOM"],(function(a,b,c,d,e,f){var g=10;a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c){return a.call(this,b,c)||this}var d=c.prototype;d.addFriendReaction=function(b,c){a.prototype.addReaction.call(this,!0,b,c)};d.buildAnimation=function(a){var c=this,d;this.incrementFireworksCount();var e=-1*a.randShootUpMaxVerticalPosition;e=Math.round(e*100)/100;var f=-1*(this.config.maxY-this.config.minY-a.randShootUpMaxVerticalPosition),g=this.config.globalScale,h=[a.shootUpDurationMs,a.explosionDurationMs*.15,a.explosionDurationMs*.85,a.explosionPauseDurationMs*.8,a.explosionPauseDurationMs*.2,a.morphShrinkDurationMs,a.morphGrowDurationMs,a.morphPauseDurationMs,a.friendWindKeyDurationMs*.5,a.friendWindKeyDurationMs*.3,a.friendWindKeyDurationMs*.2].map(function(a){return a/1e3}),i=h.reduce(function(a,b){return a+b}),j=h.map(function(a,b,c){c=(b>0?c[b-1]:0)+a;h[b]=c;return c}).map(function(a){return a/i*100}),k=j[0],l=j[1],m=j[2],n=j[3],o=j[4],p=j[5],q=j[6],r=j[7],s=j[8],t=j[9];j=j[10];var u=(d=b("CSSAnimationBuilder")).keyframeAnimation(a.yAxisDiv);u.defineKeyframe("0%",{transform:"translateY("+0+"px)","animation-timing-function":this.config.shootUpVerticalCurve}).defineKeyframe(k,{transform:"translateY("+e+"px)","animation-timing-function":"linear"}).defineKeyframe(r,{transform:"translateY("+e+"px)","animation-timing-function":"ease-in-out"}).defineKeyframe(s,{transform:"translateY("+(e+f)+"px)","animation-timing-function":"ease-in-out"}).defineKeyframe(j,{transform:"translateY("+(e+f)+"px)"});u.setDuration(i).setFinishedCallback(this.createOnFinishForReaction(a)).setIterationCount(1);var v=d.keyframeAnimation(a.xAxisDiv);v.defineKeyframe("0%",{transform:"translateX("+0+"px)"}).defineKeyframe(r,{transform:"translateX("+0+"px)"}).defineKeyframe(j,{transform:"translateX("+0+"px)"});v.setDuration(i).setTimingFunction(this.config.anonHorizontalCurve).setIterationCount(1);var w=d.keyframeAnimation(a.friendImg);w.defineKeyframe("0%",{transform:"scale("+this.config.shootUpScale+")","animation-timing-function":"linear"}).defineKeyframe(k,{transform:"scale("+this.config.shootUpScale+")","animation-timing-function":this.config.explosionScaleCurve}).defineKeyframe(m,{transform:"scale("+this.config.maxExplosionScale+")","animation-timing-function":"linear"}).defineKeyframe(o,{transform:"scale("+this.config.maxExplosionScale+")",opacity:"1","animation-timing-function":"linear"}).defineKeyframe(p,{transform:"scale("+this.config.minMorphScale+")",opacity:"0"}).defineKeyframe(j,{opacity:"0"});w.setDuration(i).setIterationCount(1);var x=d.keyframeAnimation(a.reactionElem);x.defineKeyframe("0%",{opacity:"0",transform:"scale("+this.config.minMorphScale+")","animation-timing-function":"linear"}).defineKeyframe(o,{opacity:"0",transform:"scale("+this.config.minMorphScale+")","animation-timing-function":"linear"}).defineKeyframe(p,{opacity:"1",transform:"scale("+this.config.minMorphScale+")","animation-timing-function":this.config.morphScaleCurve}).defineKeyframe(q,{opacity:"1",transform:"scale("+this.config.maxExplosionScale+")","animation-timing-function":"linear"}).defineKeyframe(s,{opacity:"1",transform:"scale("+g+")","animation-timing-function":"linear"}).defineKeyframe(t,{opacity:"1",transform:"scale("+g+")","animation-timing-function":"linear"}).defineKeyframe(j,{opacity:"1",transform:"scale("+.1+")","animation-timing-function":"linear"});x.setDuration(i).setIterationCount(1);var y=[];for(var e=a.fireworks,f=Array.isArray(e),r=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(r>=e.length)break;k=e[r++]}else{r=e.next();if(r.done)break;k=r.value}m=k;d=b("CSSAnimationBuilder").keyframeAnimation(m);d.defineKeyframe("0%",{"background-position":"0px -36px",opacity:"0"}).defineKeyframe(l,{"background-position":"0px 36px",opacity:"0"}).defineKeyframe(n,{"background-position":"0px -36px",opacity:"1"}).defineKeyframe("100%",{"background-position":"0px -36px",opacity:"0"});d.setDuration(i).setIterationCount(1).setMemoize(!1).setTimingFunction("cubic-bezier(0.075, 0.82, 0.165, 1)").setFinishedCallback(this.onFireworkFinish.bind(this));y.push(d)}this.animating&&b("queryThenMutateDOM")(function(){},function(){b("DOM").appendContent(c.root,a.root);a.setState("ANIMATING");for(var d=0;d<y.length;d++){var e=y[d];e.start()}v.start();u.start();w.start();x.start()})};d.onFireworkFinish=function(a){this.decrementFireworksCount()};d.incrementFireworksCount=function(){var a=c.fireWorksCount;a=a+g;b("Arbiter").inform(b("StreamingReactionsTrayEvents").FireworksAnimating,!0);c.fireWorksCount=a};d.decrementFireworksCount=function(){var a=c.fireWorksCount-1;a<1&&b("Arbiter").inform(b("StreamingReactionsTrayEvents").FireworksAnimating,!1);c.fireWorksCount=a};return c}(b("StreamingReactionsTrayAnimation"));a.fireWorksCount=0;e.exports=a}),null);
__d("XVODStreamingReactionsAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/vodreactions/",{eft_id:{type:"String",required:!0},start_time:{type:"Float",required:!0},end_time:{type:"Float",required:!0}})}),null);
__d("VODReactionStream",["AsyncRequest","SubscriptionsHandler","XVODStreamingReactionsAsyncController","setInterval"],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(a,c){var d=this;this.videoPlayerController=a;this.diffuser=c;this.reactions=[];this.queueEndTime=0;this.currentRequest=null;this.subscriptions=new(b("SubscriptionsHandler"))();this.resetToTime(a.getCurrentTimePosition());this.subscriptions.addSubscriptions(a.addListener("seek",function(a){d.resetToTime(a.time)}));b("setInterval")(this.renderReactions.bind(this),800)}var c=a.prototype;c.renderReactions=function(){if(!this.videoPlayerController.isState("playing")||this.videoPlayerController.isMuted())return;var a=this.videoPlayerController.getCurrentTimePosition(),b=Math.floor(a);this.onTimeUpdated(a);this.reactions[b]&&(this.diffuser.processVodPayload(this.reactions[b]),delete this.reactions[b])};c.fetchNewReactions=function(a){var c=this,d=a+60;a=b("XVODStreamingReactionsAsyncController").getURIBuilder().setString("eft_id",this.videoPlayerController.getVideoID()).setFloat("start_time",a).setFloat("end_time",d).getURI();this.currentRequest&&this.currentRequest.abandon();this.currentRequest=new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.getPayload();if(a.reactionpayloads)for(var a=a.reactionpayloads,b=Array.isArray(a),e=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(b){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.reactions[f.start_time]=f}c.queueEndTime=d}).setFinallyHandler(function(){c.currentRequest=null});this.currentRequest.send()};c.onTimeUpdated=function(a){if(a<this.queueEndTime-15||this.currentRequest!==null)return;this.fetchNewReactions(this.queueEndTime)};c.resetToTime=function(a){this.fetchNewReactions(a)};c.stop=function(){this.subscriptions.release()};return a}(),h=new Map();e.exports={start:function(a,b){h.set(a,new g(a,b))},stop:function(a){var b=h.get(a);if(!b)return;b.stop();h["delete"](a)}}}),null);
__d("StreamingReactionsTray",["Arbiter","FeedbackAddStreamingReactionSubscription","HotLiveVideoPayloadManager","Run","StreamingReactionsTrayAnonymousAnimation","StreamingReactionsTrayConfig","StreamingReactionsTrayDiffuser","StreamingReactionsTrayEvents","StreamingReactionsTrayFriendAnimation","Style","SubscriptionsHandler","Visibility","VODReactionStream","gkx"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,c,d,e,f,g,h,i,j,k){if(b("gkx")("1298036"))return;this.$7=a;this.$4=d;this.$19=0;this.$17=i;this.$18=j;this.$20(d);k=c?!!c.getOption("VideoWithLiveBroadcast","isLive"):!0;this.$1=new(b("StreamingReactionsTrayDiffuser"))(new(b("StreamingReactionsTrayAnonymousAnimation"))(this.$7,this.$2),new(b("StreamingReactionsTrayFriendAnimation"))(this.$7,this.$2),k,this.$2);this.$16=new(b("SubscriptionsHandler"))();this.$10=c;this.$8=!1;this.$9=!1;this.$5=g;this.$6=h;this.$11=!1;this.$12=e;this.$13=f;this.$21();b("Run").onLeave(this.$22.bind(this));a=c?c.getOption("VideoWithVODBroadcast","isLiveVOD"):!1;a&&c&&b("VODReactionStream").start(c,this.$1)}var c=a.prototype;c.$20=function(a){var c=parseInt(b("Style").get(this.$7,"width"),10),d=parseInt(b("Style").get(this.$7,"height"),10);this.$3=a;this.$2?this.$2.updateSurface(c,d,this.$3):this.$2=new(b("StreamingReactionsTrayConfig"))(c,d,this.$3)};c.$23=function(){if(this.$2){var a=parseInt(b("Style").get(this.$7,"width"),10),c=parseInt(b("Style").get(this.$7,"height"),10);this.$2.updateDimensions(a,c,this.$3)}};c.$24=function(a){var b=this;return[a.addListener("pausePlayback",function(){b.$25()}),a.addListener("beginPlayback",function(){b.$26()&&b.$27()}),a.addListener("seek",function(){b.$28()}),a.addListener("VideoChannelController/enterChannel",function(){b.$20("channel"),b.$29()}),a.addListener("VideoChannelController/exitChannel",function(){b.$20(b.$4),b.$26()&&b.$27()}),a.addListener("beginPlayback",function(){b.$26()&&window.setTimeout(function(){b.$20(b.$3),b.$27()},100)}),a.addListener("finishPlayback",function(){b.$29()})]};c.$30=function(){var a=this;window.addEventListener("resize",function(){return a.$23()})};c.$21=function(){var a,c=this,d=this.$10?this.$24(this.$10):[];this.$10||this.$30();(a=this.$16).addSubscriptions.apply(a,d.concat([b("Arbiter").subscribe("VideoChannelView/opened",function(){c.$20("channel"),c.$29()}),b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").ResizeChannelViewWindow,function(){return c.$20(c.$3)}),b("Arbiter").subscribe("VideoChannelView/closed",function(){c.$20(c.$4),c.$26()&&c.$27()}),b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").ShowChannelViewDetails,function(){c.$26()&&c.$27()}),b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").HideChannelViewDetails,function(){c.$29()}),this.$2.addListener(b("StreamingReactionsTrayEvents").UpdateSurface,function(){return c.$1.clearCurrentReactions()}),b("Arbiter").subscribe("ufi/reactionButtonClicked",function(a,b){b.ft_id===c.$12&&c.$31(b,!0)}),b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").AddReactionAnimate,function(a,b){c.$31(b,!1)}),b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").DisableReactions,function(){c.$11=!0,c.$29()}),b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").EnableReactions,function(){c.$11=!1,c.$26()&&c.$27()}),b("Visibility").addListener(b("Visibility").HIDDEN,function(){c.$29()}),b("Arbiter").subscribe("ActorSelector/ActorSelected",function(a,b){c.$6[b.selectedActorID]&&(c.$5=c.$6[b.selectedActorID])}),b("Visibility").addListener(b("Visibility").VISIBLE,function(){c.$26()&&c.$27()})]));this.$26()&&this.$27()};c.$22=function(){this.$10&&b("VODReactionStream").stop(this.$10),this.$29(),this.$16.release()};c.$32=function(){this.$14=b("FeedbackAddStreamingReactionSubscription").subscribe(this.$12,this.$33.bind(this)),this.$9=!0};c.$34=function(){this.$14&&this.$14.unsubscribe(),this.$15&&b("HotLiveVideoPayloadManager").unsubscribe(this.$15),this.$9=!1};c.$31=function(a,b){var c=Date.now(),d=c-this.$19;if(d<this.$2.reactionSelfFireworkAnimationThreshold)return;this.$19=c;var e;switch(a.reaction_type){case 0:return;case 1:e="LIKE";break;case 2:e="LOVE";break;case 3:e="WOW";break;case 4:e="HAHA";break;case 7:e="SORRY";break;case 8:e="ANGER";break;case 11:e="DOROTHY";break;case 16:e="SUPPORT";break;default:throw new Error("Not a valid reaction type: "+a.reaction_type)}this.$1.addOwnReaction(e,this.$5,b)};c.$33=function(a){this.$8&&this.$17&&this.$1.processPayload(a)};c.$29=function(){this.$8=!1,this.$9&&this.$34(),this.$1.stopAnimation()};c.$25=function(){this.$8=!1,this.$9&&this.$34(),this.$1.pauseAnimation()};c.$27=function(){if(this.$8)return;this.$8=!0;this.$9||this.$32();this.$18&&this.$1.startAnimation()};c.$28=function(){this.$1.clearBuffer()};c.$35=function(){return!(this.$3==="channel"||this.$3==="snowlift"||this.$3==="permalink"||this.$3==="live_control_panel"||this.$3==="camera_post"||this.$3==="tahoe")};c.$26=function(){return this.$11?!1:this.$35()?this.$36():this.$37()};c.$37=function(){return this.$10?!this.$10.isState("finished"):!0};c.$36=function(){if(!this.$10)return!0;var a=this.$10;return a.isState("playing")};return a}();e.exports=a}),null);
__d("VideoComponentStreamingReactionTray.react",["cx","React","ReactDOM","RelayModern","StreamingReactionsTray","VideoComponent","VideoComponentStreamingReactionTrayQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React");b("RelayModern").graphql;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.vpc=null,c.streamingReactionsTray=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidUpdate=function(a){var c=this.props.video,d=this.props.user,e=b("ReactDOM").findDOMNode(this.refs.root);e!=null&&e instanceof HTMLElement&&this.vpc!=null&&c&&d&&(c!==a.video||d!==a.user)&&c.broadcastID!=null&&(this.streamingReactionsTray=new(b("StreamingReactionsTray"))(e,this.vpc,this.vpc.getPlayerSuborigin()||"",c.feedbackID||"",c.broadcastID||"",d.profilePic.uri,{},!0,!0,!0))};d.enable=function(a){this.vpc=a};d.disable=function(){};d.render=function(){return i.jsx("div",{ref:"root",className:"_3htz _3ah-"+(this.props.hidden?" hidden_elem":"")})};return c}(i.Component);e.exports=b("VideoComponent").createContainer(a,{videoGraphQLQuery:h!==void 0?h:h=b("VideoComponentStreamingReactionTrayQuery.graphql")})}),null);
__d("XLiveURLDelegationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/",{rest:{type:"String"},ref:{type:"Enum",enumType:1},v:{type:"FBID"}})}),null);
__d("VideoComponentLiveEndScreen.react",["cx","fbt","CenteredContainer.react","Link.react","LiveMapEntryPointsLoggerController","React","RelayModern","RoundImage.react","SubscriptionsHandler","VideoComponent","XGamesVideoHomeController","XLiveURLDelegationController","cxMargin","joinClasses","VideoComponentLiveEndScreenQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React");b("RelayModern").graphql;var k=70;a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(){d.$2()&&b("LiveMapEntryPointsLoggerController").logEndscreenImpression()};d.vpc=null;d.subscriptions=new(b("SubscriptionsHandler"))();return d}var d=c.prototype;d.enable=function(a){this.vpc=a,this.subscriptions.engage(),this.subscriptions.addSubscriptions(a.addListener("finishPlayback",this.$1)),a.registerOption("VideoLiveEndscreen","enabled",function(){return!0})};d.disable=function(){this.subscriptions.release()};d.render=function(){var a=this.props,c=this.vpc;return!a.video||!c||c.getState()!=="finished"||!this.props.videoData.isLiveStream()?null:j.jsxs("div",{className:b("joinClasses")(this.props.className,"_1uwa"),children:[j.jsx("div",{className:"_5sjs"}),j.jsx(b("CenteredContainer.react"),{vertical:!0,className:"_2q2t",children:j.jsx("div",{className:"_1uwb",children:j.jsx("div",{className:"_39rw",children:this.$3(this.props.video)})})})]})};d.$3=function(a){var c=a.liveEndText,d=a.liveEndFollowPromptText,e=a.owner;a=a.isLiveAudioFormat;e=j.jsx(b("RoundImage.react"),{className:"_3-96",src:e.profilePicture.uri,width:k,height:k});var f=h._("Video tr\u1ef1c ti\u1ebfp n\u00e0y \u0111\u00e3 k\u1ebft th\u00fac."),g=h._("Phi\u00ean \u00e2m thanh tr\u1ef1c ti\u1ebfp n\u00e0y \u0111\u00e3 k\u1ebft th\u00fac.");a=a?g:f;g=this.$4()?null:j.jsxs("div",{children:[j.jsxs("div",{children:[c?c.text:"",j.jsx("div",{children:d?d.text:""})]}),this.$5()]});f=j.jsxs("div",{className:"_39ry",children:[e,j.jsx("div",{className:"_39rz",children:a}),g]});return f};d.$5=function(){if(this.$2())if(this.$6()){var a=b("XGamesVideoHomeController").getURIBuilder().getURI();return j.jsx("div",{className:"_2pig",children:j.jsx(b("Link.react"),{href:a,className:"_39g5",children:j.jsx("div",{className:"_1svp",children:h._("Kh\u00e1m ph\u00e1 th\u00eam nhi\u1ec1u video ch\u01a1i game tr\u1ef1c ti\u1ebfp")})})})}else{a=b("XLiveURLDelegationController").getURIBuilder().setEnum("ref","trending").getURI();return j.jsx("div",{className:"_2pig",children:j.jsx(b("Link.react"),{href:a,className:"_39g5",children:j.jsx("div",{className:"_1svp",children:h._("Explore more live videos.")})})})}return null};d.$2=function(){return!1};d.$6=function(){return!!this.props&&!!this.props.videoData&&this.props.videoData.getContentCategory()==="gaming"};d.$4=function(){return!!this.vpc&&this.vpc.getPlayerOrigin()==="fb_stories"};return c}(j.Component);e.exports=b("VideoComponent").createContainer(a,{suppressMount:function(a){return a.getStreamType()==="progressive"},observedVpcEvents:["beginPlayback","finishPlayback","playRequested"],videoGraphQLQuery:i!==void 0?i:i=b("VideoComponentLiveEndScreenQuery.graphql")})}),null);